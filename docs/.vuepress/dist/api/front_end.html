<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>copyText | xz-uni-docs</title>
    <meta name="description" content="让一切复杂的应用程序都从简单的开发开始!">
    <link rel="icon" href="/logo/xz.png">
    
    <link rel="preload" href="/assets/css/0.styles.74708cd9.css" as="style"><link rel="preload" href="/assets/js/app.336df68d.js" as="script"><link rel="preload" href="/assets/js/2.76d9d3c8.js" as="script"><link rel="preload" href="/assets/js/7.30dd1cc0.js" as="script"><link rel="prefetch" href="/assets/js/10.d001e916.js"><link rel="prefetch" href="/assets/js/11.8277dce4.js"><link rel="prefetch" href="/assets/js/12.52931f1e.js"><link rel="prefetch" href="/assets/js/13.b386769f.js"><link rel="prefetch" href="/assets/js/14.48f84e6f.js"><link rel="prefetch" href="/assets/js/15.84d70486.js"><link rel="prefetch" href="/assets/js/16.5578faa9.js"><link rel="prefetch" href="/assets/js/17.e60e68cd.js"><link rel="prefetch" href="/assets/js/3.b95ecf17.js"><link rel="prefetch" href="/assets/js/4.f1c64673.js"><link rel="prefetch" href="/assets/js/5.d9351774.js"><link rel="prefetch" href="/assets/js/6.5946c045.js"><link rel="prefetch" href="/assets/js/8.5ff99565.js"><link rel="prefetch" href="/assets/js/9.94c5ba6e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74708cd9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">xz-uni-docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/develope/quick_start.html" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/api/front_end.html" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/utils/front_end.html" class="nav-link">
  Utils
</a></div><div class="nav-item"><a href="/online/front_end.html" class="nav-link">
  部署
</a></div><div class="nav-item"><a href="/update/" class="nav-link">
  日志
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><span class="title">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MikuBlog/uni-app-resp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  项目地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://xzadmin-docs.xuanzai.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  xz-admin-docs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MikuBlog/xz-admin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  xz-admin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/develope/quick_start.html" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/api/front_end.html" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/utils/front_end.html" class="nav-link">
  Utils
</a></div><div class="nav-item"><a href="/online/front_end.html" class="nav-link">
  部署
</a></div><div class="nav-item"><a href="/update/" class="nav-link">
  日志
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><span class="title">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MikuBlog/uni-app-resp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  项目地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://xzadmin-docs.xuanzai.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  xz-admin-docs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MikuBlog/xz-admin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  xz-admin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/front_end.html" class="active sidebar-link">copyText</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/front_end.html#copytext" class="sidebar-link">copyText</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#file" class="sidebar-link">File</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/front_end.html#getfile" class="sidebar-link">getFile</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#getimgfile" class="sidebar-link">getImgFile</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#rotateimage" class="sidebar-link">rotateImage</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#downloadfile" class="sidebar-link">downloadFile</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#dataurltoblob" class="sidebar-link">dataUrlToBlob</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/front_end.html#date" class="sidebar-link">Date</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/front_end.html#formatdate" class="sidebar-link">formatDate</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#datediff" class="sidebar-link">dateDiff</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#setday" class="sidebar-link">setDay</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#setmonth" class="sidebar-link">setMonth</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#setyear" class="sidebar-link">setYear</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#setdate" class="sidebar-link">setDate</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#fromnow" class="sidebar-link">fromNow</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/front_end.html#storage" class="sidebar-link">storage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/front_end.html#setmemorypmt" class="sidebar-link">setMemoryPmt</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#getmemorypmt" class="sidebar-link">getMemoryPmt</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/front_end.html#navigate" class="sidebar-link">Navigate</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/front_end.html#navigateto" class="sidebar-link">navigateTo</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#navigateback" class="sidebar-link">navigateBack</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#switchtab" class="sidebar-link">switchTab</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#redirectto" class="sidebar-link">redirectTo</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#relaunch" class="sidebar-link">reLaunch</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/front_end.html#message" class="sidebar-link">Message</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/front_end.html#showtoast" class="sidebar-link">showToast</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#showloading" class="sidebar-link">showLoading</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#showmodal" class="sidebar-link">showModal</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/front_end.html#http" class="sidebar-link">http</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/front_end.html#http-normal" class="sidebar-link">http_normal</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#http-json" class="sidebar-link">http_json</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#http-file" class="sidebar-link">http_file</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/front_end.html#wxlogin" class="sidebar-link">wxLogin</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#jumptoofficial" class="sidebar-link">jumpToOfficial</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#wxpay" class="sidebar-link">wxPay</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#wxshare" class="sidebar-link">wxShare</a></li><li class="sidebar-sub-header"><a href="/api/front_end.html#getlocationauth" class="sidebar-link">getLocationAuth</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="copytext"><a href="#copytext" class="header-anchor">#</a> copyText</h2> <p>描述：复制文本</p> <p>传参：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>content</td> <td>String</td> <td>是</td> <td>复制的纯文本</td></tr></tbody></table> <p>示例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span>
	<span class="token punctuation">.</span><span class="token function">$copyText</span><span class="token punctuation">(</span><span class="token string">&quot;xuanzai&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// success to do</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="file"><a href="#file" class="header-anchor">#</a> File</h2> <h3 id="getfile"><a href="#getfile" class="header-anchor">#</a> getFile</h3> <p>描述：获取文件</p> <blockquote><p>注意：仅在编译为h5时生效</p></blockquote> <p>传参：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>limit</td> <td>Number</td> <td>否</td> <td>限制文件的总大小，单位：<code>兆</code>，默认文件总大小为<code>10M</code></td></tr> <tr><td>count</td> <td>Number</td> <td>否</td> <td>限制文件选择数量，默认最多一次性选择3个文件</td></tr></tbody></table> <p>返回值：<code>Promise</code></p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>fileList</td> <td>Array</td> <td>返回文件数组。当选择的文件不满足上述传参条件或默认参数条件，则会被<code>catch</code>捕捉</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span>
	<span class="token punctuation">.</span><span class="token function">$getImgFile</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 限制上传文件总数量为20M，数量为10个</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// [file_1, file_2, ...]</span>
		<span class="token comment">// todo</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getimgfile"><a href="#getimgfile" class="header-anchor">#</a> getImgFile</h3> <p>描述：获取图片信息，图片预览</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>limit</td> <td>Number</td> <td>否</td> <td>限制图片的总大小，单位：<code>兆</code>，默认图片总大小为<code>10M</code></td></tr> <tr><td>count</td> <td>Number</td> <td>否</td> <td>限制图片的选择数量，默认最多一次性选择3个文件</td></tr></tbody></table> <p>返回值：<code>Promise</code></p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>fileList</td> <td>Array</td> <td>返回元素为对象的数组，见示例。当选择的文件不满足上述传参条件或默认参数条件，则会被<code>catch</code>捕捉</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span>
	<span class="token punctuation">.</span><span class="token function">$getImgFile</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 限制上传图片总数量为20M，数量为10张</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// [{raw: File, url: base64}, ...]</span>
		<span class="token comment">// todo</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="rotateimage"><a href="#rotateimage" class="header-anchor">#</a> rotateImage</h3> <p>描述：将翻转的图片摆正，一般搭配<code>uni.chooseImage</code>使用</p> <blockquote><p>注意：仅在编译为非h5平台生效</p></blockquote> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>img</td> <td>String</td> <td>是</td> <td>图片地址</td></tr> <tr><td>cb</td> <td>Function</td> <td>否</td> <td>回调方法，方法接收的参数为图片的<code>url</code></td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$rotateImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token parameter">url</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// todo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="downloadfile"><a href="#downloadfile" class="header-anchor">#</a> downloadFile</h3> <p>描述：下载文件</p> <p><code>options</code>中的参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>url</td> <td>String</td> <td>是</td> <td>文件地址</td></tr> <tr><td>fileName</td> <td>Function</td> <td>否</td> <td>文件名称，<code>h5</code>中部分浏览器如<code>chrome</code>与<code>fireFox</code>生效，其他端无效</td></tr> <tr><td>isLoading</td> <td>Boolean</td> <td>否</td> <td>是否显示加载更多，默认值为<code>false</code></td></tr></tbody></table> <p>返回值：<code>downloadTask</code></p> <p>该对象一般用于监听下载进度，<a href="https://uniapp.dcloud.io/api/request/network-file?id=downloadfile" target="_blank" rel="noopener noreferrer">具体用法参考uniapp-downloadFile<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token punctuation">:</span> <span class="token string">&quot;https://myinterface.xuanzai.top/getPicture&quot;</span> <span class="token comment">// 文件地址,</span>
	fileName<span class="token punctuation">:</span> <span class="token string">'image'</span><span class="token punctuation">,</span>
	isLoading<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="dataurltoblob"><a href="#dataurltoblob" class="header-anchor">#</a> dataUrlToBlob</h3> <p>描述：将<code>base64</code>数据转为<code>blob</code></p> <blockquote><p>注意：仅在编译为H5时生效</p></blockquote> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>dataurl</td> <td>String</td> <td>是</td> <td>base64</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$dataUrlToBlob</span><span class="token punctuation">(</span>base64<span class="token punctuation">)</span> <span class="token comment">// blob</span>
</code></pre></div><h2 id="date"><a href="#date" class="header-anchor">#</a> Date</h2> <p>日期格式化方法。</p> <h3 id="formatdate"><a href="#formatdate" class="header-anchor">#</a> formatDate</h3> <p>描述：将日期格式化为<code>yyyy-MM-dd HH:mm:ss</code></p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>Date</td> <td>是</td> <td>接收的日期对象</td></tr> <tr><td>isAccurate</td> <td>Boolean</td> <td>否</td> <td>是否精确到时分秒，默认值为<code>false</code></td></tr></tbody></table> <p>返回值：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>String</td> <td>常用的日期字符串，具体见示例</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 2019-11-05</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 2019-11-05 10:06:31</span>
</code></pre></div><h3 id="datediff"><a href="#datediff" class="header-anchor">#</a> dateDiff</h3> <p>描述：两个日期的时间差</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>sDate1</td> <td>Date</td> <td>是</td> <td>接收的日期对象</td></tr> <tr><td>sDate2</td> <td>Date</td> <td>是</td> <td>是否精确到时分秒，默认值为<code>false</code></td></tr></tbody></table> <p>返回值：<code>Object</code></p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>stamp</td> <td>Number</td> <td>时间戳差值</td></tr> <tr><td>seconds</td> <td>Number</td> <td>相差总秒数，向下取整</td></tr> <tr><td>minutes</td> <td>Number</td> <td>相差总分钟数，向下取整</td></tr> <tr><td>hours</td> <td>Number</td> <td>相差总小时数，向下取整</td></tr> <tr><td>days</td> <td>Number</td> <td>相差总天数，向下取整</td></tr> <tr><td>weeks</td> <td>Number</td> <td>相差总星期数，向下取整</td></tr> <tr><td>times</td> <td>String</td> <td>相差标准时分秒：hh:mm:ss</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$dateDiff</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-11-05'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-11-01'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// { 时间戳 stamp: xxx, 相差总秒数 seconds:xxx, 相差总分钟数 minutes: xxx, 相差总小时数 hours: xxx, 相差总天数 days: xxx, 相差总星期数 weeks: xxx, 时分秒 times: xxx}</span>
</code></pre></div><h3 id="setday"><a href="#setday" class="header-anchor">#</a> setDay</h3> <p>描述：设置日期</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>Date</td> <td>是</td> <td>接收的日期对象</td></tr> <tr><td>number</td> <td>Number</td> <td>是</td> <td>设置的天数，负数则往前计算</td></tr> <tr><td>isAccurate</td> <td>Boolean</td> <td>否</td> <td>是否精确到时分秒，默认值为<code>false</code></td></tr></tbody></table> <p>返回值：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>String</td> <td>常用的日期字符串，具体见示例</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setDay</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 返回后三天 YYYY-MM-DD HH:mm:ss</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setDay</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 返回前三天 YYYY-MM-DD</span>
</code></pre></div><h3 id="setmonth"><a href="#setmonth" class="header-anchor">#</a> setMonth</h3> <p>描述：设置月份</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>Date</td> <td>是</td> <td>接收的日期对象</td></tr> <tr><td>number</td> <td>Number</td> <td>是</td> <td>设置的月数，负数则往前计算</td></tr> <tr><td>isAccurate</td> <td>Boolean</td> <td>否</td> <td>是否精确到时分秒，默认值为<code>false</code></td></tr></tbody></table> <p>返回值：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>String</td> <td>常用的日期字符串，具体见示例</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setMonth</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 返回后三个月 YYYY-MM-DD HH:mm:ss</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setMonth</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 返回前三个月 YYYY-MM-DD</span>
</code></pre></div><h3 id="setyear"><a href="#setyear" class="header-anchor">#</a> setYear</h3> <p>描述：设置年份</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>Date</td> <td>是</td> <td>接收的日期对象</td></tr> <tr><td>number</td> <td>Number</td> <td>是</td> <td>设置的年数，负数则往前计算</td></tr> <tr><td>isAccurate</td> <td>Boolean</td> <td>否</td> <td>是否精确到时分秒，默认值为<code>false</code></td></tr></tbody></table> <p>返回值：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>String</td> <td>常用的日期字符串，具体见示例</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setYear</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 返回后三年 YYYY-MM-DD HH:mm:ss</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setYear</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 返回前三年 YYYY-MM-DD</span>
</code></pre></div><h3 id="setdate"><a href="#setdate" class="header-anchor">#</a> setDate</h3> <p>描述：获取前n天</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>Date</td> <td>是</td> <td>接收的日期对象</td></tr> <tr><td>options</td> <td>Object</td> <td>是</td> <td>日期设置配置对象</td></tr> <tr><td>rules</td> <td>String</td> <td>否</td> <td>日期格式，默认为<code>YYYY-MM-DD HH:mm:ss</code></td></tr></tbody></table> <p><code>options</code>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>years</td> <td>Number</td> <td>否</td> <td>设置年份，负数则往前计算</td></tr> <tr><td>quarters</td> <td>Number</td> <td>否</td> <td>设置季度（三个月一季度），负数则往前计算</td></tr> <tr><td>months</td> <td>Number</td> <td>否</td> <td>设置月份，负数则往前计算</td></tr> <tr><td>weeks</td> <td>Number</td> <td>否</td> <td>设置星期，负数则往前计算</td></tr> <tr><td>days</td> <td>Number</td> <td>否</td> <td>设置天数，负数则往前计算</td></tr> <tr><td>hours</td> <td>Number</td> <td>否</td> <td>设置小时，负数则往前计算</td></tr> <tr><td>minutes</td> <td>Number</td> <td>否</td> <td>设置分钟数，负数则往前计算</td></tr> <tr><td>seconds</td> <td>Number</td> <td>否</td> <td>设置秒数，负数则往前计算</td></tr> <tr><td>milliseconds</td> <td>Number</td> <td>否</td> <td>设置毫秒数，负数则往前计算</td></tr></tbody></table> <p>返回值：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>String</td> <td>常用的日期字符串，具体见示例</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	years<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 当前时间往后加一年 YYYY-MM-DD HH:mm:ss</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	months<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
	hours<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'YYYY-MM'</span><span class="token punctuation">)</span> <span class="token comment">// 当前时间减一个月并加一个小时 YYYY-MM</span>
</code></pre></div><h3 id="fromnow"><a href="#fromnow" class="header-anchor">#</a> fromNow</h3> <p>描述：获取相对时间</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>Date</td> <td>否</td> <td>相对于现在的日期，默认为当前时间</td></tr></tbody></table> <p>返回值：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>date</td> <td>String</td> <td>常用的日期字符串，具体见示例</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$fromNow</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 几秒前</span>
</code></pre></div><h2 id="storage"><a href="#storage" class="header-anchor">#</a> storage</h2> <p>通过<code>localStorage</code>进行简单的封装。</p> <h3 id="setmemorypmt"><a href="#setmemorypmt" class="header-anchor">#</a> setMemoryPmt</h3> <p>描述：长久存储，写入，用法与<code>localStorage.setItem</code>相似，无需对值进行处理</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>key</td> <td>String</td> <td>是</td> <td>键</td></tr> <tr><td>value</td> <td>String</td> <td>是</td> <td>值</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setMemoryPmt</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xuanzai&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getmemorypmt"><a href="#getmemorypmt" class="header-anchor">#</a> getMemoryPmt</h3> <p>描述：长久存储，读取，用法与<code>localStorage.getItem</code>相似，无需对值进行处理</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>key</td> <td>String</td> <td>是</td> <td>键</td></tr></tbody></table> <p>返回值：根据<code>this.$setMemoryPmt</code>的值决定</p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$getMemoryPmt</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="navigate"><a href="#navigate" class="header-anchor">#</a> Navigate</h2> <p>导航到对应页面</p> <h3 id="navigateto"><a href="#navigateto" class="header-anchor">#</a> navigateTo</h3> <p>描述：跳转到对应页面，页面栈增加</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>url</td> <td>String</td> <td>是</td> <td>路由地址</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">&quot;/pages/home/index&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>带参数示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 页面A</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">&quot;/pages/home/index?id=1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 页面B</span>
<span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token parameter">query</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="navigateback"><a href="#navigateback" class="header-anchor">#</a> navigateBack</h3> <p>描述：页面返回，页面栈减少</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>delta</td> <td>Number</td> <td>否</td> <td>返回的页面数，如果<code>delta</code>大于现有页面数，则返回到首页</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 默认返回一页</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$navigateBack</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 返回到前三页，如果页面数大于页面栈数，返回到首页</span>
</code></pre></div><h3 id="switchtab"><a href="#switchtab" class="header-anchor">#</a> switchTab</h3> <p>描述：返回到<code>tab</code>页面，页面栈清空</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>url</td> <td>String</td> <td>是</td> <td>路由地址</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">&quot;/pages/home/index&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="redirectto"><a href="#redirectto" class="header-anchor">#</a> redirectTo</h3> <p>描述：关闭当前页面，跳转到相应路由页面</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>url</td> <td>String</td> <td>是</td> <td>路由地址</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">&quot;/pages/home/index&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="relaunch"><a href="#relaunch" class="header-anchor">#</a> reLaunch</h3> <p>描述：关闭所有页面，跳转到相应页面，此时页面栈数为2</p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>url</td> <td>String</td> <td>是</td> <td>路由地址</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$reLaunch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">&quot;/pages/home/index&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="message"><a href="#message" class="header-anchor">#</a> Message</h2> <p>通过<code>uniapp</code>的提示信息进行二次封装。</p> <h3 id="showtoast"><a href="#showtoast" class="header-anchor">#</a> showToast</h3> <p>描述：冒泡提示</p> <p>参数：</p> <p><a href="https://uniapp.dcloud.io/api/ui/prompt?id=showtoast" target="_blank" rel="noopener noreferrer">具体参考uniapp-showToast<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	icon<span class="token punctuation">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
	title<span class="token punctuation">:</span> <span class="token string">&quot;成功&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="showloading"><a href="#showloading" class="header-anchor">#</a> showLoading</h3> <p>描述：加载提示</p> <p>参数：</p> <p><a href="https://uniapp.dcloud.io/api/ui/prompt?id=showloading" target="_blank" rel="noopener noreferrer">具体参考uniapp-showLoading<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$showLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="showmodal"><a href="#showmodal" class="header-anchor">#</a> showModal</h3> <p>描述：弹窗提示</p> <p>参数：</p> <p><a href="https://uniapp.dcloud.io/api/ui/prompt?id=showmodal" target="_blank" rel="noopener noreferrer">具体参考uniapp-showModal<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$showModal</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	content<span class="token punctuation">:</span> <span class="token string">&quot;内容&quot;</span><span class="token punctuation">,</span>
	<span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>confirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;点击确认&quot;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;点击取消&quot;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="http"><a href="#http" class="header-anchor">#</a> http</h2> <p>通过<code>axios</code>进行二次封装，如需更多个性化，请前往<code>src/api/http/http.js</code>文件内进行更改</p> <h3 id="http-normal"><a href="#http-normal" class="header-anchor">#</a> http_normal</h3> <p>描述：<code>application/x-www-form-urlencoded</code>键值对的上传方式</p> <p>参数详情参考<a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener noreferrer">axios文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>返回值：<code>Promise</code></p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$http_normal</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token punctuation">:</span> <span class="token string">&quot;/xxx/xxx&quot;</span><span class="token punctuation">,</span>
	method<span class="token punctuation">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
	data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
		name<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// todo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="http-json"><a href="#http-json" class="header-anchor">#</a> http_json</h3> <p>描述：<code>application/json</code>，<code>JSON</code>字符串的上传方式</p> <p>参数详情参考<a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener noreferrer">axios文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>返回值：<code>Promise</code></p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$http_json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token punctuation">:</span> <span class="token string">&quot;/xxx/xxx&quot;</span><span class="token punctuation">,</span>
	method<span class="token punctuation">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
	data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
		name<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// todo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="http-file"><a href="#http-file" class="header-anchor">#</a> http_file</h3> <p>描述：<code>multipart/form-data</code>，多文件键值对的上传方式</p> <p>参数详情参考<a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener noreferrer">axios文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>返回值：<code>Promise</code></p> <p><code>H5</code>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$http_file</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token punctuation">:</span> <span class="token string">&quot;/xxx/xxx&quot;</span><span class="token punctuation">,</span>
	method<span class="token punctuation">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
	data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
		name<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>，
		file_1<span class="token punctuation">:</span> raw_1<span class="token punctuation">,</span>
		file_2<span class="token punctuation">:</span> raw_2
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// todo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>小程序</code>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 小程序只能上传一份文件，该文件数据存放在file字段里</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$http_file</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token punctuation">:</span> <span class="token string">&quot;/xxx/xxx&quot;</span><span class="token punctuation">,</span>
	method<span class="token punctuation">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
	data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
		file<span class="token punctuation">:</span> raw<span class="token punctuation">,</span>
		name<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// todo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="wxlogin"><a href="#wxlogin" class="header-anchor">#</a> wxLogin</h2> <p>描述：<code>H5</code>微信登录</p> <blockquote><p>注意：仅在编译为<code>H5</code>时生效</p></blockquote> <p>返回值：<code>code</code></p> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>code</td> <td>String</td> <td>回调地址后的那一串<code>code</code>值</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$wxLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// code</span>
</code></pre></div><h2 id="jumptoofficial"><a href="#jumptoofficial" class="header-anchor">#</a> jumpToOfficial</h2> <p>描述：<code>H5</code>跳转到对应公众号</p> <blockquote><p>注意：仅在编译为<code>H5</code>时生效</p></blockquote> <blockquote><p>关于如何拿到base值？<br>
1、登录公众号后台 <br>
2、在公众号首页右键查看源码 <br>
3、找到<code>commonData</code>参数，然后找到该对象里面的<code>uin_base64</code>值，并将该值传入函数即可</p></blockquote> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>uin_base64</td> <td>String</td> <td>公众号的base值</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$jumpToOfficial</span><span class="token punctuation">(</span>uin_base64<span class="token punctuation">)</span> 
</code></pre></div><h2 id="wxpay"><a href="#wxpay" class="header-anchor">#</a> wxPay</h2> <p>描述：<code>H5</code>微信支付</p> <blockquote><p>注意：仅在编译为<code>H5</code>时生效</p></blockquote> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>options</td> <td>Object</td> <td>是</td> <td>微信支付相关配置项</td></tr> <tr><td>success</td> <td>Function</td> <td>否</td> <td>成功回调</td></tr> <tr><td>fail</td> <td>Function</td> <td>否</td> <td>失败回调，接收错误参数</td></tr> <tr><td>complete</td> <td>Function</td> <td>否</td> <td>完成回调</td></tr></tbody></table> <p><code>options</code>的参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>timestamp</td> <td>String</td> <td>是</td> <td>生成签名的时间戳</td></tr> <tr><td>nonceStr</td> <td>String</td> <td>是</td> <td>生成签名随机字符串</td></tr> <tr><td>signature</td> <td>String</td> <td>是</td> <td>生成签名</td></tr> <tr><td>packageValue</td> <td>String</td> <td>是</td> <td>统一支付接口返回的prepay_id参数值</td></tr> <tr><td>paySign</td> <td>String</td> <td>是</td> <td>支付签名</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$wxPay</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	timestamp<span class="token punctuation">,</span>
	signature<span class="token punctuation">,</span>
	nonceStr<span class="token punctuation">,</span>
	packageValue<span class="token punctuation">,</span>
	paySign
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;支付成功&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;支付失败&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;调用接口结束&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="wxshare"><a href="#wxshare" class="header-anchor">#</a> wxShare</h2> <p>描述：<code>H5</code>微信分享</p> <blockquote><p>注意：仅在编译为<code>H5</code>时生效，分享前先调用此接口，建议在onLoad、created等初始化生命周期内调用。</p></blockquote> <p>参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>options</td> <td>Object</td> <td>是</td> <td>微信分享相关配置项</td></tr> <tr><td>success</td> <td>Function</td> <td>否</td> <td>成功回调</td></tr> <tr><td>fail</td> <td>Function</td> <td>否</td> <td>失败回调，接收错误参数</td></tr> <tr><td>complete</td> <td>Function</td> <td>否</td> <td>完成回调</td></tr></tbody></table> <p><code>options</code>的参数：</p> <table><thead><tr><th>参数</th> <th>类型</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>timestamp</td> <td>String</td> <td>是</td> <td>生成签名的时间戳</td></tr> <tr><td>nonceStr</td> <td>String</td> <td>是</td> <td>生成签名随机字符串</td></tr> <tr><td>signature</td> <td>String</td> <td>是</td> <td>生成签名</td></tr> <tr><td>title</td> <td>String</td> <td>是</td> <td>分享标题</td></tr> <tr><td>desc</td> <td>String</td> <td>是</td> <td>分享内容描述</td></tr> <tr><td>link</td> <td>String</td> <td>是</td> <td>分享链接</td></tr> <tr><td>imgUrl</td> <td>String</td> <td>是</td> <td>分享图片</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$wxShare</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	timestamp<span class="token punctuation">,</span>
	signature<span class="token punctuation">,</span>
	nonceStr<span class="token punctuation">,</span>
	title<span class="token punctuation">,</span>
	desc<span class="token punctuation">,</span>
	link<span class="token punctuation">,</span>
	imgUrl
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;设置成功&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;设置失败&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;调用接口结束&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="getlocationauth"><a href="#getlocationauth" class="header-anchor">#</a> getLocationAuth</h2> <p>描述：获取微信地理位置授权</p> <blockquote><p>注意：仅在编译为微信小程序时生效，调用时需要配合uni.openSetting使用</p></blockquote> <p>返回值：<code>Promise</code></p> <table><thead><tr><th>参数</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>userLocation</td> <td>Boolean</td> <td>允许获取用户定位信息，不授权则返回<code>false</code></td></tr> <tr><td>locationBackground</td> <td>Boolean</td> <td>允许用户在将小程序置为后台时持续定位，不授权则返回<code>false</code></td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span>
	<span class="token punctuation">.</span><span class="token function">$getLocationAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">//result { userLocation: false, locationBackground: false }</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">.</span>userLocation <span class="token operator">||</span> <span class="token operator">!</span>result<span class="token punctuation">.</span>locationBackground<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$showModal</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				content<span class="token punctuation">:</span> <span class="token string">&quot;系统检测您为开启位置权限&quot;</span><span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>confirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						uni<span class="token punctuation">.</span><span class="token function">openSetting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.336df68d.js" defer></script><script src="/assets/js/2.76d9d3c8.js" defer></script><script src="/assets/js/7.30dd1cc0.js" defer></script>
  </body>
</html>
